# Configuration file for Sofar/ZCS HYD3000-HYD6000 ZSS HP
# which is different from the non-HP version!

# Warning: request length (end-start+1) more than 60
# causes CRC errors!

requests:
  # System info
  - start: 0x0404
    end: 0x041B
    mb_functioncode: 0x03
  - start: 0x0426
    end: 0x042B
    mb_functioncode: 0x03

  # On-grid output
  - start: 0x0484
    end: 0x04AF
    mb_functioncode: 0x03

  # Off-grid output
  - start: 0x0504
    end: 0x0527
    mb_functioncode: 0x03

  # PV input
  - start: 0x0584
    end: 0x0589
    mb_functioncode: 0x03
  - start: 0x05C4
    end: 0x05C4
    mb_functioncode: 0x03

  # Battery input
  - start: 0x0604
    end: 0x0611
    mb_functioncode: 0x03
  - start: 0x0667
    end: 0x0669
    mb_functioncode: 0x03

  # Power counters
  - start: 0x0684
    end:  0x069B
    mb_functioncode: 0x03

  # Event history
  - start: 0x1480
    end:  0x148B
    mb_functioncode: 0x03


parameters:
 - group: solar
   items:
    - name: "PV Instant Generated PW"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.1
      rule: 1
      registers: [0x05C4]
      icon: 'mdi:solar-power'

    - name: "PV1 Power"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.01
      rule: 1
      registers: [0x0586]
      icon: 'mdi:solar-power'

    - name: "PV2 Power"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.01
      rule: 1
      registers: [0x0589]
      icon: 'mdi:solar-power'

    - name: "PV1 Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0584]
      icon: 'mdi:solar-power'

    - name: "PV2 Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x0587]
      icon: 'mdi:solar-power'

    - name: "PV1 Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.01
      rule: 1
      registers: [0x0585]
      icon: 'mdi:solar-power'

    - name: "PV2 Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.01
      rule: 1
      registers: [0x0588]
      icon: 'mdi:solar-power'

    - name: "Daily Production"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x0685,0x0684]
      icon: 'mdi:solar-power'

    - name: "Total Production"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x0687,0x0686]
      icon: 'mdi:solar-power'

    - name: "Total Generation Time"
      class: ""
      state_class: "measurement"
      uom: "min"
      scale: 1
      rule: 3
      registers: [0x0428,0x0427]
      icon: 'mdi:clock-outline'
      # TODO: Convert to hours?

    - name: "Today Generation Time"
      class: ""
      state_class: "total_increasing"
      uom: "min"
      scale: 1
      rule: 1
      registers: [0x0426]
      icon: 'mdi:clock-outline'

    - name: "Today Grid Return"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x691,0x0690]
      icon: 'mdi:transmission-tower-export'

    - name: "Today Grid Consumption"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x068D,0x068C]
      icon: 'mdi:transmission-tower-import'

    - name: "Today Power Consumption"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x0689,0x0688]
      icon: 'mdi:lightning-bolt'

    - name: "Total Grid Return"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x0693,0x0692]
      icon: 'mdi:transmission-tower-export'

    - name: "Total Grid Consumption"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x068F,0x068E]
      icon: 'mdi:transmission-tower-import'

    - name: "Total Power Consumption"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x068B,0x068A]
      icon: 'mdi:lightning-bolt'

 - group: Output
   items:
    - name: "Power Consumption"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.01
      rule: 1
      registers: [0x04AF]
      icon: 'mdi:home-lightning-bolt'

#    - name: "Output active power"
#      class: "power"
#      state_class: "measurement"
#      uom: "W"
#      scale: 10
#      rule: 1
#      registers: [0x000C] # Old
#      icon: 'mdi:home-lightning-bolt'

#    - name: "Output reactive power"
#      class: ""
#      state_class: "measurement"
#      uom: "kVar"
#      scale: 0.01
#      rule: 1
#      registers: [0x000D] # Old
#      icon: 'mdi:home-lightning-bolt'

    - name: "Grid Frequency"
      class: "frequency"
      state_class: "measurement"
      uom: "Hz"
      scale: 0.01
      rule: 1
      registers: [0x0484]
      icon: 'mdi:home-lightning-bolt'

    - name: "Grid Voltage"
      class: "voltage"
      state_class: "measurement"
      uom: "V"
      scale: 0.1
      rule: 1
      registers: [0x048D]
      icon: 'mdi:home-lightning-bolt'

    - name: "Grid Current"
      class: "current"
      state_class: "measurement"
      uom: "A"
      scale: 0.01
      rule: 1
      registers: [0x0492]
      icon: 'mdi:home-lightning-bolt'

 - group: batteries
   items:
#    - name: "Battery Voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x020E]
#      icon: 'mdi:battery-charging'

#    - name: "Battery Charge / Discharge current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 2
#      registers: [0x020F]
#      icon: 'mdi:battery-charging-10'

    - name: "Battery Percentage"
      class: "battery"
      state_class: "measurement"
      uom: "%"
      scale: 1
      rule: 1
      registers: [0x0668]
      icon: 'mdi:battery'

#    - name: "Battery Temperature"
#      class: "temperature"
#      state_class: "measurement"
#      uom: "Â°C"
#      scale: 1
#      rule: 1
#      registers: [0x0211]
#      icon: 'mdi:battery-heart-outline'

    - name: "Battery Daily Charge"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x695,0x0694]
      icon: 'mdi:battery-clock'

    - name: "Battery Total Charge"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x697,0x0696]
      icon: 'mdi:battery-clock'

    - name: "Battery Daily Discharge"
      class: "energy"
      state_class: "total_increasing"
      uom: "kWh"
      scale: 0.01
      rule: 3
      registers: [0x699,0x0698]
      icon: 'mdi:battery-clock-outline'

    - name: "Battery Total Discharge"
      class: "energy"
      state_class: "total"
      uom: "kWh"
      scale: 0.1
      rule: 3
      registers: [0x069B,0x069A]
      icon: 'mdi:battery-clock-outline'

#    - name: "Battery Cicles"
#      class: ""
#      state_class: ""
#      uom: "Charges"
#      scale: 1
#      rule: 1
#      registers: [0x022C]
#      icon: 'mdi:battery-check-outline'
#
#    - name: "Battery Power"
#      class: "power"
#      state_class: "measurement"
#      uom: "kW"
#      scale: 0.01
#      rule: 2
#      registers: [0x0237]
#      icon: 'mdi:battery-charging-high'
#
#    - name: "Battery Type"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x10B0]
#      icon: 'mdi:battery'
#
#    - name: "Battery Capacity"
#      class: ""
#      state_class: ""
#      uom: "Ah"
#      scale: 1
#      rule: 1
#      registers: [0x10B1]
#      icon: 'mdi:battery'
#
#    - name: "Max Charge Voltage"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x10B3]
#      icon: 'mdi:battery'
#
#    - name: "Max Charge Current"
#      class: ""
#      state_class: ""
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x10B4]
#      icon: 'mdi:battery'
#
#    - name: "Over Voltage Protection"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x10B5]
#      icon: 'mdi:battery'
#
#    - name: "Min Discharge Voltage"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x10B6]
#      icon: 'mdi:battery'
#
#    - name: "Max Discharge Current"
#      class: ""
#      state_class: ""
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x10B7]
#      icon: 'mdi:battery'
#
#    - name: "Undervoltage Protection"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x10B8]
#      icon: 'mdi:battery'
#
#    - name: "Discharge Depth"
#      class: ""
#      state_class: ""
#      uom: "%"
#      scale: 1
#      rule: 1
#      registers: [0x10B9]
#      icon: 'mdi:battery'
#
#    - name: "Periods Of Discharge Time"
#      class: ""
#      state_class: ""
#      uom: "h"
#      scale: 1
#      rule: 1
#      registers: [0x10BA]
#      icon: 'mdi:battery'
#
#    - name: "Empty Battery Voltage"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.01
#      rule: 1
#      registers: [0x10BB]
#      icon: 'mdi:battery'
#
#    - name: "Full Battery Voltage"
#      class: ""
#      state_class: ""
#      uom: "V"
#      scale: 0.01
#      rule: 1
#      registers: [0x10BC]
#      icon: 'mdi:battery'

 - group: Inverter
   items:
    - name: "Inverter status"
      class: ""
      state_class: "measurement"
      uom: ""
      scale: 1
      rule: 1
      registers: [0x0404]
      isstr: true
      lookup:
      -  key: 0
         value: "Stand-by"
      -  key: 1
         value: "Self-Checking"
      -  key: 2
         value: "Normal"
      -  key: 3
         value: "EPS State"
      -  key: 4
         value: "Fault State"
      -  key: 5
         value: "Permanent Fault State"
      -  key: 6
         value: "Upgrade Status"
      -  key: 7
         value: "Self-charging Status"
      icon: 'mdi:state-machine'

    - name: "Inverter ambient temperature"
      class: "temperature"
      state_class: "measurement"
      uom: "Â°C"
      scale: 1
      rule: 2
      registers: [0x0418]
      icon: 'mdi:thermometer'

    - name: "Inverter heatsink temperature"
      class: "temperature"
      state_class: "measurement"
      uom: "Â°C"
      scale: 1
      rule: 2
      registers: [0x041A]
      icon: 'mdi:thermometer'

#    - name: "Inverter bus voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 2
#      registers: [0x022D]
#      icon: 'mdi:home-lightning-bolt'
#
#    - name: "PV1 voltage sample by slave CPU"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x001E]
#      icon: 'mdi:home-lightning-bolt'
#
#    - name: "PV1 current sample by slave CPU"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.1
#      rule: 1
#      registers: [0x001F]
#      icon: 'mdi:home-lightning-bolt'

    - name: "Countdown time"
      class: ""
      state_class: "measurement"
      uom: "s"
      scale: 1
      rule: 1
      registers: [0x0417]
      icon: 'mdi:clock'

#    - name: "Input mode"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0022]
#      icon: ''
#
#    - name: "Communication Board inner message"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0242]
#      icon: ''
#
#    - name: "Insulation of PV1+ to ground"
#      class: ""
#      state_class: "measurement"
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0246]
#      icon: ''
#
#    - name: "Insulation of PV2+ to ground"
#      class: ""
#      state_class: "measurement"
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0247]
#      icon: ''
#
#    - name: "Insulation of PV- to ground"
#      class: ""
#      state_class: "measurement"
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0248]
#      icon: ''
#
#    - name: "Country"
#      class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x023A]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "Germany"
#      -  key: 1
#         value: "CEI0-21 Internal"
#      -  key: 2
#         value: "Australia"
#      -  key: 3
#         value: "Spain RD1699"
#      -  key: 4
#         value: "Turkey"
#      -  key: 5
#         value: "Denmark"
#      -  key: 6
#         value: "Greece"
#      -  key: 7
#         value: "Netherland"
#      -  key: 8
#         value: "Belgium"
#      -  key: 9
#         value: "UK-G59"
#      -  key: 10
#         value: "China"
#      -  key: 11
#         value: "France"
#      -  key: 12
#         value: "Poland"
#      -  key: 13
#         value: "Germany BDEW"
#      -  key: 14
#         value: "Germany VDE0126"
#      -  key: 15
#         value: "Italy CEI0-16"
#      -  key: 16
#         value: "UK-G83"
#      -  key: 17
#         value: "Greece Islands"
#      -  key: 18
#         value: "EU EN50438"
#      -  key: 19
#         value: "EU EN61727"
#      -  key: 20
#         value: "Korea"
#      -  key: 21
#         value: "Sweden"
#      -  key: 22
#         value: "Europe General"
#      -  key: 23
#         value: "CEI0-21 External"
#      -  key: 24
#         value: "Cyprus"
#      -  key: 25
#         value: "India"
#      -  key: 26
#         value: "Philippines"
#      -  key: 27
#         value: "New Zeland"
#      -  key: 28
#         value: "Reserve"
#      -  key: 29
#         value: "Reserve"
#      icon: ''

 - group: Alert
   items:
    - name: "Inverter last event"
      class: ""
      state_class: ""
      uom: ""
      scale: 1
      rule: 10
      registers: [0x1480,0x1481,0x1482,0x1483]

#    - name: "Inverter alarm"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0201,0x0202,0x0203,0x0204,0x0205]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 0x2
#         value: "ID02 Grid Under Voltage Protection"
#      -  key: 0x8
#         value: "ID04 Grid Under Frequency Protection"
#      -  key: 0x800
#         value: "ID12 Battery Over Current Hardware"
#      -  key: 0x2000000
#         value: "ID26 Bus over voltage protection"
#
#    - name: "Fault 1"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0201]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 1
#         value: "ID01 Grid Over Voltage Protection"
#      -  key: 2
#         value: "ID02 Grid Under Voltage Protection"
#      -  key: 4
#         value: "ID03 Grid Over Frequency Protection"
#      -  key: 8
#         value: "ID04 Grid Under Frequency Protection"
#      -  key: 16
#         value: "ID05 Battery Over Voltage"
#      -  key: 32
#         value: "ID06"
#      -  key: 64
#         value: "ID07 LVRT fault"
#      -  key: 128
#         value: "ID08 PV Over Voltage"
#      -  key: 256
#         value: "ID09 LLCBus Over Voltage Hardware"
#      -  key: 512
#         value: "ID10 Bus Over Voltage Hardware"
#      -  key: 1024
#         value: "ID11 BuckBoost Over Current Hardware"
#      -  key: 2048
#         value: "ID12 Battery Over Current Hardware"
#      -  key: 4096
#         value: "ID13 Residual Current Fault"
#      -  key: 8192
#         value: "ID14 PV Hardware Over Current"
#      -  key: 16384
#         value: "ID15 AC Output Over Current Hardware"
#      -  key: 32768
#         value: "ID16 PV Current Unbalanced"
#      icon: 'mdi:wrench'
#
#
#    - name: "Fault 2"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0202]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 1
#         value: "ID17 Grid current sampling error"
#      -  key: 2
#         value: "ID18 DCI sampling error"
#      -  key: 4
#         value: "ID19 Grid voltage sampling error"
#      -  key: 8
#         value: "ID20"
#      -  key: 16
#         value: "ID21 Main chip fault"
#      -  key: 32
#         value: "ID22 Hardware auxiliary power fault"
#      -  key: 64
#         value: "ID23"
#      -  key: 128
#         value: "ID24"
#      -  key: 256
#         value: "ID25 LLCBus Over Current protection"
#      -  key: 512
#         value: "ID26 Bus over voltage protection"
#      -  key: 1024
#         value: "ID27 Battery Over Current protection"
#      -  key: 2048
#         value: "ID28 Dci Over Current Protection"
#      -  key: 4096
#         value: "ID29 Output over current software"
#      -  key: 8192
#         value: "ID30 Buck Over Current"
#      -  key: 16384
#         value: "ID31 Output over current protection"
#      -  key: 32768
#         value: "ID32 The input current is too high"
#      icon: 'mdi:wrench'
#
#    - name: "Fault 3"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0203]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 1
#         value: "ID33 Reserved"
#      -  key: 2
#         value: "ID34 Reserved"
#      -  key: 4
#         value: "ID35 Reserved"
#      -  key: 8
#         value: "ID36 Reserved"
#      -  key: 16
#         value: "ID37 Reserved"
#      -  key: 32
#         value: "ID38 Reserved"
#      -  key: 64
#         value: "ID39 Reserved"
#      -  key: 128
#         value: "ID40 Reserved"
#      -  key: 256
#         value: "ID41 Reserved"
#      -  key: 512
#         value: "ID42 Reserved"
#      -  key: 1024
#         value: "ID43 Reserved"
#      -  key: 2048
#         value: "ID44 Reserved"
#      -  key: 4096
#         value: "ID45 Reserved"
#      -  key: 8192
#         value: "ID46 Reserved"
#      -  key: 16384
#         value: "ID47 Reserved"
#      -  key: 32768
#         value: "ID48 Reserved"
#      icon: 'mdi:wrench'
#
#    - name: "Fault 4"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0204]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 1
#         value: "ID49 Grid voltage sampling value between master and slave DSP vary widely"
#      -  key: 2
#         value: "ID50 Grid frequency sampling value between master and slave DSP vary widely"
#      -  key: 4
#         value: "ID51 DCI sampling value between master and slave DSP vary widely"
#      -  key: 8
#         value: "ID52 GFCI sampling value between master and slave DSP vary widely"
#      -  key: 16
#         value: "ID53 Communication failure between master and slave DSP failure"
#      -  key: 32
#         value: "ID53 Communication failure between slave and communication board"
#      -  key: 64
#         value: "ID55 Relay fault"
#      -  key: 128
#         value: "ID56"
#      -  key: 256
#         value: "ID57 Inverter temp is too high"
#      -  key: 512
#         value: "ID58 Boost temp is too high"
#      -  key: 1024
#         value: "ID59 Environment temp is too high"
#      -  key: 2048
#         value: "ID60"
#      -  key: 4096
#         value: "ID61 Reserved"
#      -  key: 8192
#         value: "ID62 Reserved"
#      -  key: 16384
#         value: "ID63 Reserved"
#      -  key: 32768
#         value: "ID64 Reserved"
#      icon: 'mdi:wrench'
#
#    - name: "Fault 5"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x0205]
#      isstr: true
#      lookup:
#      -  key: 0
#         value: "No error"
#      -  key: 1
#         value: "ID65 Grid current is too high and causes unrecoverable fault"
#      -  key: 2
#         value: "ID66 Bus voltage is too high and causes unrecoverable fault"
#      -  key: 4
#         value: "ID67 EPS Mode Battery Over current,and has cause unrecoverable fault"
#      -  key: 8
#         value: "ID68"
#      -  key: 16
#         value: "ID69"
#      -  key: 32
#         value: "ID70 The Output current is too high,and has cause unrecoverable fault"
#      -  key: 64
#         value: "ID71"
#      -  key: 128
#         value: "ID72 Reserved"
#      -  key: 256
#         value: "ID73 Reserved"
#      -  key: 512
#         value: "ID74"
#      -  key: 1024
#         value: "ID75 Error writing from EEPROM"
#      -  key: 2048
#         value: "ID76 Error reading to EEPROM"
#      -  key: 4096
#         value: "ID77 Relay fauilure causes unrecoverable fault"
#      -  key: 8192
#         value: "ID78 Reserved"
#      -  key: 16384
#         value: "ID79 Reserved"
#      -  key: 32768
#         value: "ID80 Reserved"
#      icon: 'mdi:wrench'

 - group: Other energy
   items:
#    - name: "Buck Current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x022F]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid R Voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x0230]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid R Current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x0231]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Generation Current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x0236]
#      icon: 'mdi:lightning-bolt'

    - name: "Charge / Discharge Power"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.1
      rule: 2
      registers: [0x0667]
      icon: 'mdi:battery-charging-50'
      # NEW ICON! TODO: MOVE TO ANOTHER GROUP

    - name: "Feed in / out power"
      class: "power"
      state_class: "measurement"
      uom: "kW"
      scale: 0.01
      rule: 2
      registers: [0x0488]
      icon: 'mdi:lightning-bolt'
      # TODO: MOVE TO ANOTHER GROUP

#    - name: "Input/Output Power"
#      class: "power"
#      state_class: "measurement"
#      uom: "kW"
#      scale: 0.01
#      rule: 2
#      registers: [0x0485]
#      icon: 'mdi:lightning-bolt'
#      # TODO: REMOVE?

#    - name: "Energy Management Model"
#      class: ""
#      state_class: ""
#      uom: ""
#      scale: 1
#      rule: 1
#      registers: [0x10B2]
#      icon: ''
#
#    - name: "DCI Current"
#      class: "current"
#      state_class: "measurement"
#      uom: "mA"
#      scale: 1
#      rule: 1
#      registers: [0x023B]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "DCI Voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x023C]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid S Voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x0232]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid S Current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x0233]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid T voltage"
#      class: "voltage"
#      state_class: "measurement"
#      uom: "V"
#      scale: 0.1
#      rule: 1
#      registers: [0x0234]
#      icon: 'mdi:lightning-bolt'
#
#    - name: "Grid T current"
#      class: "current"
#      state_class: "measurement"
#      uom: "A"
#      scale: 0.01
#      rule: 1
#      registers: [0x0235]
#      icon: 'mdi:lightning-bolt'